{"mappings":"qhBAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,uCAQA,MAAME,EAA2BC,SAASC,cAAc,yBAClDC,EAA6BF,SAASC,cAAc,2BAUpDE,GADeH,SAASC,cAAc,gBACjBD,SAASC,cAAc,wBAC5CG,EAAaJ,SAASC,cAAc,gBACpCI,EAAaL,SAASC,cAAc,cAGpCK,GAAgB,EAAAR,EAAAS,qBAAoB,WACpCC,GAAgB,EAAAV,EAAAS,qBAAoB,SAE1CE,QAAQC,IAAIF,GAGZ,MACMG,EAAa,GACbC,EAAe,GAKrB,MAAMC,EAAe,CACfC,WAAYN,EAAcO,OAC5BC,KAJa,EAKXC,aAAc,GACdC,aAAa,EAEbC,aAAc,GAGdC,EAAiB,CACjBN,WAAYR,EAAcS,OAC5BC,KAba,EAcXC,aAAc,GACdC,aAAa,EAEbC,aAAc,GAGpB,KAAOX,EAAcO,OAAS,GAC5BJ,EAAWU,KAAKb,EAAcc,MAAM,EA1BpB,KA2BhBd,EAAce,OAAO,EA3BL,IA8BlB,KAAOjB,EAAcS,OAAS,GAC5BH,EAAaS,KAAKf,EAAcgB,MAAM,EA/BtB,KAgChBhB,EAAciB,OAAO,EAhCL,IAmClBd,QAAQC,IAAIC,GACZF,QAAQC,IAAIE,GACZH,QAAQC,IAAIJ,GAKZ,MAAMkB,EAAkB,IAAIC,EAAAC,GAAJ,CAAe3B,EAA0Bc,GAC3Dc,EAAoB,IAAIF,EAAAC,GAAJ,CAAexB,EAA4BkB,GAwCrE,SAASQ,EAAyBC,GAChC,MAAMC,EAAcD,EACjBE,KAAI,EAACC,GAAEA,EAAEC,MAAEA,EAAKC,YAAEA,EAAWC,WAAEA,EAAUC,aAAEA,MAC1C,IAAIC,EAMJ,OAJEA,EADEH,EACW,sDAAsDA,IAEtD,iIAER,sCAAsCF,oBACrCK,mGACoBJ,+EAEIE,kDACDC,EAAad,MAAM,EAAG,0BAErD,IAEDgB,KAAK,IACRnC,EAAmBoC,UAAYT,GAC/B,EAAAU,EAAAC,gBACA,EAAAC,EAAAC,8B,CAxDFvC,EAAWwC,iBAAiB,SAAS,KACnChB,EAAyBhB,EAAa,IACtCb,EAAyB8C,UAAUC,IAAI,aACvC5C,EAA2B2C,UAAUE,OAAO,aAC5CvB,EAAgBwB,MAEhBrB,EAAkBsB,GAAG,cAAcC,IACjCtB,EAAyBhB,EAAasC,EAAMlC,KAAO,IACnDmC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,UAAW,GAC/C,IAIJjD,EAAWuC,iBAAiB,SAAS,KACnChB,EAAyBjB,EAAW,IACpCZ,EAAyB8C,UAAUE,OAAO,aAC1C7C,EAA2B2C,UAAUC,IAAI,aAEzCnB,EAAkBqB,MAClBxB,EAAgByB,GAAG,cAAcC,IAC/BtB,EAAyBjB,EAAWuC,EAAMlC,KAAO,IACjDmC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,UAAW,GAC/C,IAGJ1B,EAAyBhB,EAAa,IACtCb,EAAyB8C,UAAUC,IAAI,aACrC5C,EAA2B2C,UAAUE,OAAO,aAC5CvB,EAAgBwB,MAEhBrB,EAAkBsB,GAAG,cAAcC,IACjCtB,EAAyBhB,EAAasC,EAAMlC,KAAO,IACnDmC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,UAAW","sources":["src/library.js","src/js/watched.js"],"sourcesContent":["import './js/theme';\n\n\nimport './js/modal-team';\n\nimport './js/watched';\n","import {\n  setToLocalStorage,\n  getFromLocalStorage,\n} from './local-storage-functions';\n\n\nimport Pagination from \"tui-pagination\";\n// import { paginationContainer } from \"./pagination\";\nconst queuePaginationContainer = document.querySelector('[js-queue-pagination]');\nconst watchedPaginationContainer = document.querySelector('[js-watched-pagination]');\n\nimport { addEventlListenertoFilmCard } from \"./modal-about\";\nimport { showSpinner } from './show_spinner';\n\n// import {\n//   onSearchFormSubmit\n// } from './searchFilm';\n\nconst searchFormEl = document.querySelector('#search-form');\nconst filmsListLibraryEl = document.querySelector('.favorite-film-list');\nconst watchBtnEl = document.querySelector('.btn-watched');\nconst queueBtnEl = document.querySelector('.btn-queue');\n\n\nconst moviesToWatch = getFromLocalStorage('watched');\nconst moviesInQueue = getFromLocalStorage('queue');\n\nconsole.log(moviesInQueue);\n\n// const myArray = [{id: 1, name: 'John'}, {id: 2, name: 'Jane'}, {id: 3, name: 'Bob'}, {id: 4, name: 'Alice'}, {id: 5, name: 'Mary'}];\nconst chunkSize = 20; // розмір частини\nconst queueArray = [];\nconst watchedArray = [];\n\n\nlet pageNumber = 1;\n\nconst queueOptions = {\n      totalItems: moviesInQueue.length,\n    page: pageNumber,\n      itemsPerPage: 20,\n      centerAlign: true,\n      \n      visiblePages: 5,\n};\n    \nconst toWatchOptions = {\n      totalItems: moviesToWatch.length,\n    page: pageNumber,\n      itemsPerPage: 20,\n      centerAlign: true,\n      \n      visiblePages: 5,\n    };\n\nwhile (moviesInQueue.length > 0) {\n  queueArray.push(moviesInQueue.slice(0, chunkSize));\n  moviesInQueue.splice(0, chunkSize);\n}\n\nwhile (moviesToWatch.length > 0) {\n  watchedArray.push(moviesToWatch.slice(0, chunkSize));\n  moviesToWatch.splice(0, chunkSize);\n}\n\nconsole.log(queueArray); \nconsole.log(watchedArray);\nconsole.log(moviesToWatch);\n\n\n\n\nconst queuePagination = new Pagination(queuePaginationContainer, queueOptions);\nconst toWatchPagination = new Pagination(watchedPaginationContainer, toWatchOptions);\n\n\n\n// searchFormEl.addEventListener('submit', onSearchFormSubmit);\nwatchBtnEl.addEventListener('click', () => {\n  createandShowFilmsMarkup(watchedArray[0]);\n  queuePaginationContainer.classList.add('is-hidden');\n  watchedPaginationContainer.classList.remove('is-hidden');\n  queuePagination.off();\n\n  toWatchPagination.on('beforeMove', event => {\n    createandShowFilmsMarkup(watchedArray[event.page - 1]);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  })\n\n});\n\nqueueBtnEl.addEventListener('click', () => {\n  createandShowFilmsMarkup(queueArray[0]);\n  queuePaginationContainer.classList.remove('is-hidden');\n  watchedPaginationContainer.classList.add('is-hidden');\n\n  toWatchPagination.off();\n  queuePagination.on('beforeMove', event => {\n    createandShowFilmsMarkup(queueArray[event.page - 1]);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  })\n});\n\ncreateandShowFilmsMarkup(watchedArray[0]);\nqueuePaginationContainer.classList.add('is-hidden');\n  watchedPaginationContainer.classList.remove('is-hidden');\n  queuePagination.off();\n\n  toWatchPagination.on('beforeMove', event => {\n    createandShowFilmsMarkup(watchedArray[event.page - 1]);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  })\n\nfunction createandShowFilmsMarkup(searchFilms) {\n  const filmsMarkup = searchFilms\n    .map(({ id, title, poster_path, genreNames, release_date }) => {\n      let posterPath;\n      if (poster_path) {\n        posterPath = `https://www.themoviedb.org/t/p/w600_and_h900_bestv2${poster_path}`;\n      } else {\n        posterPath = `https://st4.depositphotos.com/21486874/31104/i/600/depositphotos_311048494-stock-photo-coming-soon-neon-light-announcement.jpg`;\n      }\n      return `<li class=\"movie-item\" movie-id = \"${id}\">\n  <img src=\"${posterPath}\" alt=\"movie poster\" loading=\"lazy\" class=\"movie-item__img\"/>\n  <h2 class=\"movie-item__title\">${title}</h2>\n  <p class=\"movie-item__text\">\n    <span class=\"movie-item__genre\">${genreNames}</span> |\n    <span class=\"movie-item__year\">${release_date.slice(0, 4)}</span>\n  </p>\n</li>`;\n    })\n    .join('');\n  filmsListLibraryEl.innerHTML = filmsMarkup;\n  showSpinner();\n  addEventlListenertoFilmCard();\n}\n"],"names":["parcelRequire","$bAF63","$7126a8cfa5cf9b17$var$queuePaginationContainer","document","querySelector","$7126a8cfa5cf9b17$var$watchedPaginationContainer","$7126a8cfa5cf9b17$var$filmsListLibraryEl","$7126a8cfa5cf9b17$var$watchBtnEl","$7126a8cfa5cf9b17$var$queueBtnEl","$7126a8cfa5cf9b17$var$moviesToWatch","getFromLocalStorage","$7126a8cfa5cf9b17$var$moviesInQueue","console","log","$7126a8cfa5cf9b17$var$queueArray","$7126a8cfa5cf9b17$var$watchedArray","$7126a8cfa5cf9b17$var$queueOptions","totalItems","length","page","itemsPerPage","centerAlign","visiblePages","$7126a8cfa5cf9b17$var$toWatchOptions","push","slice","splice","$7126a8cfa5cf9b17$var$queuePagination","$parcel$interopDefault","$fb9GJ","$7126a8cfa5cf9b17$var$toWatchPagination","$7126a8cfa5cf9b17$var$createandShowFilmsMarkup","searchFilms","filmsMarkup","map","id","title","poster_path","genreNames","release_date","posterPath","join","innerHTML","$lj9Ab","showSpinner","$ghSiQ","addEventlListenertoFilmCard","addEventListener","classList","add","remove","off","on","event","window","scrollTo","top","behavior"],"version":3,"file":"my-library.df9614d4.js.map"}