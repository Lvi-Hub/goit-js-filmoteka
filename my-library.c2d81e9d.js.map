{"mappings":"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","sources":["src/js/theme.js","src/js/modal-team.js","src/js/local-storage-functions.js","src/js/closeModal.js","src/js/modal-about.js","src/js/watched.js","src/js/show_spinner.js"],"sourcesContent":["const themeSwitch = document.querySelector('.theme-switch');\nconst body = document.querySelector('body');\nconst footer = document.querySelector('footer');\n\nif (localStorage.getItem('theme') === 'dark') {\n  body.classList.add('dark-theme');\n  footer.classList.add('dark-theme');\n\n  themeSwitch.checked = true;\n}\n\nthemeSwitch.addEventListener('change', function () {\n  if (this.checked) {\n    localStorage.setItem('theme', 'dark');\n    body.classList.add('dark-theme');\n    footer.classList.add('dark-theme');\n  } else {\n    localStorage.setItem('theme', 'light');\n    body.classList.remove('dark-theme');\n    footer.classList.remove('dark-theme');\n  }\n});\n","const modalOpenEl = document.querySelector('.btnTeam');\nconst backdropFooterEl = document.querySelector('.backdrop-footer');\nconst bodyEl = document.querySelector('body');\nconst closeBtnEl = document.querySelector('.modal__button');\n\nmodalOpenEl.addEventListener('click', openFooterModal);\ndocument.addEventListener('keydown', footerModalEsc);\nbackdropFooterEl.addEventListener('click', footerModalEsc);\nbackdropFooterEl.addEventListener('click', modalFooterCloseOnClick);\n\nfunction openFooterModal() {\n  backdropFooterEl.classList.remove('is-hidden');\n  document.querySelector('body').classList.add('noScroll');\n  return;\n}\n\nfunction modalFooterCloseOnClick() {\n  backdropFooterEl.classList.add('is-hidden');\n  removeListener();\n}\n\nfunction footerModalEsc(event) {\n  if (event.key === 'Escape' || event.target === backdropFooterEl) {\n    backdropFooterEl.classList.add('is-hidden');\n    removeListener();\n  }\n}\n\nfunction removeListener() {\n  document.removeEventListener('keydown', footerModalEsc);\n  backdropFooterEl.removeEventListener('click', footerModalEsc);\n  closeBtnEl.removeEventListener('click', modalFooterCloseOnClick);\n  bodyEl.classList.remove('noScroll');\n}\n","const setToLocalStorage = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst getFromLocalStorage = key => {\n  try {\n    const savedFilms = localStorage.getItem(key);\n    return savedFilms === null ? undefined : JSON.parse(savedFilms);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport { setToLocalStorage, getFromLocalStorage };\n","//May change, if the name in HTML will be different\n\n// import { hideModalOnEscape, hideModalOnCLick } from \"./modalClose.js\";\n// window.addEventListener(\"keydown\", hideModalOnEscape);\n// window.addEventListener(\"click\", hideModalOnCLick);\n// closeBtnEl.addEventListener(\"click\", hideModal);\n\nconst card = document.querySelector(\".backdrop\");\nconst closeBtnEl = document.querySelector(\".movie-card__close-btn\");\nconst modalEl = document.querySelector(\".movie-card\");\nconst body = document.querySelector('body');\n\n\n//Hides modal if Escape button is pressed\nexport function hideModalOnEscape(e) {\n    e.code === \"Escape\" &&  hideModal();\n}\n\n//Hides modal if clicked outside of the modal\nexport function hideModalOnCLick(e) {\n    e.target === card && hideModal();\n    console.log(e.target)\n    e.stopPropagation();\n  }\n\n//HidesModal\nexport function hideModal() {\n    hideBackdrop();\n    removeEventListeners();\n    body.classList.remove('hide-scroll');\n  }\n\n//Hides backdrop\nfunction hideBackdrop() {\n    card.classList.add(\"hidden\");\n}\n\n//Removes all event listeners\n function removeEventListeners() {\n    window.removeEventListener(\"mousedown\", hideModalOnEscape);\n    window.removeEventListener(\"click\", hideModalOnCLick);\n    closeBtnEl.removeEventListener(\"click\", hideModalOnCLick);\n}\n","import {\n  setToLocalStorage,\n  getFromLocalStorage,\n} from './local-storage-functions';\nimport { hideModalOnEscape, hideModal } from './closeModal';\n\nconst card = document.querySelector('.backdrop');\nconst body = document.querySelector('body');\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '481cbb6dba5121edc01136f73aa6b3c6';\n\nconst closeBtnEl = document.querySelector('.movie-card__close-btn');\nconst movieTitle = document.querySelector('.movie-card__info__title');\n\nconst text = document.querySelector('.movie-card__info__small-text');\nconst moviePopularity = document.querySelector('.movie-card__info__details-text');\nconst originalTitle = document.querySelector('.original-title');\nconst movieGenres = document.querySelector('.genres');\nconst moviePoster = document.querySelector('.movie-card__img');\n\nfunction fetchFilms(id) {\n  return fetch(`${BASE_URL}movie/${id}?api_key=${API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function addEventlListenertoFilmCard() {\n  const filmCardElements = document.querySelectorAll('[movie-id]');\n  filmCardElements.forEach(element => {\n    element.addEventListener('click', event => {\n      closeBtnEl.addEventListener('click', hideModal);\n      card.classList.remove('hidden');\n      body.classList.add('hide-scroll');\n      const idFilm = event.currentTarget.getAttribute('movie-id');\n\n      moviePoster.removeAttribute('src');\n\n      fetchFilms(idFilm).then(data => {\n        fillModal(data);\n      });\n    });\n  });\n  window.addEventListener('keydown', hideModalOnEscape);\n  window.addEventListener('click', hideModalOnBackdropClick);\n}\n\nfunction fillModal({\n  id,\n  title,\n  overview,\n  popularity,\n  genres,\n  poster_path,\n  release_date,\n}) {\n  movieTitle.innerHTML = title;\n\n  text.innerHTML = overview;\n  moviePopularity.innerHTML = popularity;\n  originalTitle.innerHTML = title;\n  const genreNames = genres.map(genre => genre.name).join(', ');\n  movieGenres.innerHTML = genreNames;\n  moviePoster.setAttribute('src', 'https://image.tmdb.org/t/p/w500' + poster_path);\n\n  const filmDetails = {\n    id,\n    title,\n    overview,\n    popularity,\n    genreNames,\n    poster_path,\n    release_date,\n  };\n\n  const addToWatched = document.querySelector('.movie-card__button-watched');\n  const watchedFilms = getFromLocalStorage('watched') || [];\n  const isFilmNoWatched = watchedFilms.every(el => el.id !== filmDetails.id);\n  if (!isFilmNoWatched) {\n    addToWatched.innerHTML = 'DELETE FROM WATCHED';\n  } else {\n    addToWatched.innerHTML = 'ADD TO WATCHED';\n  }\n  const addToWatchedFilms = () => {\n    if (isFilmNoWatched) {\n      watchedFilms.push(filmDetails);\n      setToLocalStorage('watched', watchedFilms);\n      addToWatched.innerHTML = 'DELETE FROM WATCHED';\n      return;\n    } else {\n      console.log('film is already added!');\n    }\n  };\n  const handleAddToWatchedFilms = () => {\n    addToWatchedFilms(filmDetails);\n  };\n  addToWatched.addEventListener('click', handleAddToWatchedFilms);\n\n  const addToQueue = document.querySelector('.movie-card__button-queue');\n  const queueFilms = getFromLocalStorage('queue') || [];\n  const isFilmNoQueue = queueFilms.every(el => el.id !== filmDetails.id);\n  if (!isFilmNoQueue) {\n    addToQueue.innerHTML = 'DELETE FROM QUEUE';\n  } else {\n    addToQueue.innerHTML = 'ADD TO QUEUE';\n  }\n  const addToQueueFilms = () => {\n    if (isFilmNoQueue) {\n      queueFilms.push(filmDetails);\n      setToLocalStorage('queue', queueFilms);\n      addToQueue.innerHTML = 'DELETE FROM QUEUE';\n      return;\n    } else {\n      console.log('film is already added!');\n    }\n  };\n  const handleAddToQueueFilms = () => {\n    addToQueueFilms(filmDetails);\n  };\n  addToQueue.addEventListener('click', handleAddToQueueFilms);\n}\n\nfunction hideModalOnBackdropClick(e) {\n  e.target === card && hideModal();\n  // console.log(e.target);\n  e.stopPropagation();\n}\n","import {\n  setToLocalStorage,\n  getFromLocalStorage,\n} from './local-storage-functions';\nimport { addEventlListenertoFilmCard } from \"./modal-about\";\nimport { showSpinner } from './show_spinner';\n// import {\n//   onSearchFormSubmit\n// } from './searchFilm';\n\nconst searchFormEl = document.querySelector('#search-form');\nconst filmsListLibraryEl = document.querySelector('.favorite-film-list');\nconst watchBtnEl = document.querySelector('.btn-watched');\nconst queueBtnEl = document.querySelector('.btn-queue');\n\nconst moviesToWatch = getFromLocalStorage('watched');\nconst moviesInQueue = getFromLocalStorage('queue');\nlet pageNumber = 1;\n\n// searchFormEl.addEventListener('submit', onSearchFormSubmit);\nwatchBtnEl.addEventListener('click', () =>\n  createandShowFilmsMarkup(moviesToWatch)\n);\nqueueBtnEl.addEventListener('click', () =>\n  createandShowFilmsMarkup(moviesInQueue)\n);\n\ncreateandShowFilmsMarkup(moviesToWatch);\n\nfunction createandShowFilmsMarkup(searchFilms) {\n  const filmsMarkup = searchFilms\n    .map(({ id, title, poster_path, genreNames, release_date }) => {\n      let posterPath;\n      if (poster_path) {\n        posterPath = `https://www.themoviedb.org/t/p/w600_and_h900_bestv2${poster_path}`;\n      } else {\n        posterPath = `https://st4.depositphotos.com/21486874/31104/i/600/depositphotos_311048494-stock-photo-coming-soon-neon-light-announcement.jpg`;\n      }\n      return `<li class=\"movie-item\" movie-id = \"${id}\">\n  <img src=\"${posterPath}\" alt=\"movie poster\" loading=\"lazy\" class=\"movie-item__img\"/>\n  <h2 class=\"movie-item__title\">${title}</h2>\n  <p class=\"movie-item__text\">\n    <span class=\"movie-item__genre\">${genreNames}</span> |\n    <span class=\"movie-item__year\">${release_date.slice(0, 4)}</span>\n  </p>\n</li>`;\n    })\n    .join('');\n  filmsListLibraryEl.innerHTML = filmsMarkup;\n  showSpinner();\n  addEventlListenertoFilmCard();\n}\n","export function showSpinner() {\n   const backdropSpinnerEl = document.createElement('div');\n   const spinnerDiv = document.createElement('div');\n   const mainSectionEl = document.querySelector('.section');\n   mainSectionEl.prepend(backdropSpinnerEl);\n   backdropSpinnerEl.prepend(spinnerDiv);\n   spinnerDiv.innerHTML = `\n      <div></div>\n      <div></div>\n    `;\n   console.log(mainSectionEl);\n   backdropSpinnerEl.classList.add('backdrop-spinner');\n   spinnerDiv.classList.add('lds-ripple');\n   setTimeout(() => {\n     backdropSpinnerEl.remove();\n   }, 1000);\n}"],"names":["$73a6fccb2ce51eb8$var$themeSwitch","document","querySelector","$73a6fccb2ce51eb8$var$body","$73a6fccb2ce51eb8$var$footer","localStorage","getItem","classList","add","checked","addEventListener","this","setItem","remove","$7ffd53e14a5f2a85$var$modalOpenEl","$7ffd53e14a5f2a85$var$backdropFooterEl","$7ffd53e14a5f2a85$var$bodyEl","$7ffd53e14a5f2a85$var$closeBtnEl","$7ffd53e14a5f2a85$var$modalFooterCloseOnClick","$7ffd53e14a5f2a85$var$removeListener","$7ffd53e14a5f2a85$var$footerModalEsc","event","key","target","removeEventListener","$fc60fe24d5d406b5$export$150f044b3c48a8f0","value","JSON","stringify","err","console","log","$fc60fe24d5d406b5$export$602bc7b349337fec","savedFilms","undefined","parse","$36e3eba7cc6e7a89$var$card","$36e3eba7cc6e7a89$var$closeBtnEl","$36e3eba7cc6e7a89$var$body","$36e3eba7cc6e7a89$export$8caa602f3296db11","e","code","$36e3eba7cc6e7a89$export$af4939467128bcd0","$36e3eba7cc6e7a89$export$c47d02bd2e597fac","stopPropagation","window","$be5742975d1f5e6f$var$card","$be5742975d1f5e6f$var$body","$be5742975d1f5e6f$var$closeBtnEl","$be5742975d1f5e6f$var$movieTitle","$be5742975d1f5e6f$var$text","$be5742975d1f5e6f$var$moviePopularity","$be5742975d1f5e6f$var$originalTitle","$be5742975d1f5e6f$var$movieGenres","$be5742975d1f5e6f$var$moviePoster","$be5742975d1f5e6f$export$9c664ce0a735a0dd","querySelectorAll","forEach","element","id","idFilm","currentTarget","getAttribute","removeAttribute","fetch","concat","then","response","ok","Error","status","json","data","param","title","overview","popularity","genres","poster_path","release_date","innerHTML","genreNames","map","genre","name","join","setAttribute","filmDetails","addToWatched","watchedFilms","isFilmNoWatched","every","el","addToWatchedFilms","push","handleAddToWatchedFilms","addToQueue","queueFilms","isFilmNoQueue","addToQueueFilms","handleAddToQueueFilms","$be5742975d1f5e6f$var$fillModal","$be5742975d1f5e6f$var$hideModalOnBackdropClick","$a215baf1061f969f$var$filmsListLibraryEl","$a215baf1061f969f$var$watchBtnEl","$a215baf1061f969f$var$queueBtnEl","$a215baf1061f969f$var$moviesToWatch","$a215baf1061f969f$var$moviesInQueue","$a215baf1061f969f$var$createandShowFilmsMarkup","searchFilms","backdropSpinnerEl","spinnerDiv","mainSectionEl","filmsMarkup","posterPath","slice","createElement","prepend","setTimeout"],"version":3,"file":"my-library.c2d81e9d.js.map"}